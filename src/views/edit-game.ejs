<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head') %>
    <%- include('./partials/header') %>

        <body class="body-new-game">

            <main class="container-m">
                <form action=<%="/products/" +product.id+ "/edit?_method=PUT" %> method="POST" class="container-form" enctype="multipart/form-data">
                    <h1>Editar
                        <%= product.titulo %> <i class="fas fa-gamepad"></i>
                    </h1>
                    <div class="contenido-principal">
                        <div class="box-container">
                            <input placeholder="Título" name="titulo" type="text" value=" <%= product.titulo %> " required class="input-style">
                        </div>

                        <div class="box-container">
                            <input placeholder="Precio" name="price" type="text" value=" <%= product.precio %> " required class="input-style">
                        </div>
                        <div class="box-container">
                            <input placeholder="Descuento" name="discount" type="text" value=" <%= product.descuento %> " class="input-style">
                        </div>
                        <div class="box-container">
                            <input placeholder="Resumen" name="resumen" type="text" value=" <%= product.resumen %> " required class="input-style">
                        </div>
                        <div class="box-container">
                            <label class="tittle-m block">Dificultad</label>
                            <select name="Dificultad" class="input-style">
                                <% Dificultades.forEach(d=> { %>
                                    <option  value="<%=d.nombre %>"  <%=product.Dificultad.nombre==d.nombre?"selected":" "%>> 
                                        <%=d.nombre %>
                                    </option>
                                    <% }); %>
                            </select>
                        </div>
                        <div class="box-container">
                            <label class="tittle-m block">Edades</label>
                            <select name="Edad" class="input-style">
                                <% Edades.forEach(d=> { %>
                                    <option  value="<%=d.nombre %>"  <%=product.Edad.nombre==d.nombre?"selected":" "%>> 
                                        <%=d.nombre%>
                                    </option>
                                    <% }); %>
                            </select>
                        </div>
                        <div class="box-container">
                            <label class="block tittle-m" for="interes" name="interes">Plataforma</label>
                            <div class="box-category">
                                <% Plataformas.forEach(d=> { %>
                                    <label id=category-option>
                                        <input type="checkbox" name="category-option" class="category-option"
                                            <%=product.Plataformas.includes(d)?"checked":"unchecked"%> ><%=d%>
                                    </label>
                                    <% }); %>
                            </div>
                        </div>
                        <div class="box-container">
                            <label class="block tittle-m" for="interes" name="interes">Categorías</label>
                            <div class="box-category">
                                <% Categorias.forEach(d=> { %>
                                    <label id=category-option>
                                        <input type="checkbox" name="category-option" class="category-option"
                                            <%=product.Categorias.includes(d)?"checked":"unchecked"%> ><%=d%>
                                    </label>
                                    <% }); %>

                                        </label>
                            </div>
                        </div>

                        <div class="box-container photo-game">
                            <label class="block tittle-m" for="photoGameV" name="fotoUser">Imagen Vertical del VideoJuego</label>
                            <input class="block" type="file" name="photoGameV"><img id="imageEdit" src=<%="/images/productImages" +product.ImagenPrincipal.ruta %> alt="
                            <%= product.ImagenPrincipal.ruta %>">

                                <label class="block tittle-m" for="photoGame" name="fotoUser">Imagen Horizontal del VideoJuego</label>
                                <input class="block" type="file" name="photoGame"><img id="imageEditV" src=<%="/images/productImages" + product.ImagenSecundaria.ruta %> alt="
                                <%= product.ImagenSecundaria.ruta %>">
                        </div>
                        <div class="box-container">
                            <input placeholder="Información legal del desarrollador" name="nombre" type="text" value=" <%= product.legal %> " required class="input-style">
                        </div>
                        <div class="box-container">
                            <textarea name="datos_Tecnicos" placeholder="Datos técnicos" class="text-area-style" cols="30" rows="10" required><%= product.datosTecnicos %></textarea>
                        </div>
                        <div class="box-container">
                            <textarea name="requisitos" placeholder="Requisitos del sistema" cols="30" rows="10" class="text-area-style" required><%= product.requisitos %></textarea>
                        </div>

                    </div>
                    <div class="container-delete-button">
                        <div class="box-button">
                            <button type="submit" class="delete-button-m">Editar Juego</button>
                        </div>
                        <div class="box-button">
                            <button type="submit" class="delete-button-m" formaction=<%="/products/" +product.id+ "?_method=DELETE" %> >Eliminar Juego</button>
                        </div>
                    </div>


                </form>

            </main>
            <%- include('./partials/footer') %>

                <script src="/js/edit-game.js"></script>
        </body>

</html>